s3 설정

```shell
## 리눅스
export NAME=kuconfig.gitbal.io
export KOPS_STATE_STORE=s3:kustudy
export KOPS_STATE_STORE=s3:kuconfig
```

## 클러스터 생성

윈도우에서 KOPS_STATE_STORE 설정이 잘 안되 명령어를 추가했다.  --state s3://[버킷 이름]

```shell
kops create cluster --state s3://kustudy --zones ap-northeast-1a --networking calico --ssh-public-key ./id_rsa.pub kustudy.effectmall.com

kops create cluster --zones ap-northeast-2a --networking calico --ssh-public-key ./id_rsa.pub $NAME
```

## 클러스터 옵션 변경

### 노드

```shell
kops edit ig nodes --name kustudy.effectmall.com --state s3://kustudy
kops edit ig nodes --name $NAME
```

### 마스터

```shell
kops edit ig master-ap-northeast-1a --name kustudy.effectmall.com --state s3://kustudy
kops edit ig master-ap-northeast-2a --name $NAME
```

## 클러스터 생성

```shell
kops update cluster --yes kustudy.effectmall.com --state s3://kustudy
kops update cluster $NAME --yes
```


## 진행사항 확인
```shell
kops validate cluster --state s3://kustudy
kops validate cluster

## 노드 목록 확인
```shell
kubectl get nodes
```

## 클러스터 삭제
```shell
kops delete cluster kustudy.effectmall.com --state s3://kustudy --yes
kops delete cluster $NAME --yes
```