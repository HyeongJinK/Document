# 소개(Introduction)

동시 프로그래밍에서 가장 일반적인 상황 중 하나는 둘 이상의 실행 스레드가 리소스를 공유 할 때 발생합니다. 동시 응용 프로그램에서는 여러 스레드가 동일한 데이터 구조를 읽거나 쓰거나 동일한 파일 또는 데이터베이스 연결에 액세스하는 것이 일반적입니다. 이러한 공유 리소스는 오류 상황이나 데이터 불일치를 유발할 수 있으며 이러한 오류를 피하기위한 메커니즘을 구현해야합니다. 이러한 상황을 **경쟁 조건** 이라고 **합니다**다른 스레드가 동일한 공유 리소스에 동시에 액세스 할 때 발생합니다. 따라서 최종 결과는 스레드 실행 순서에 따라 다르며 대부분 올바르지 않습니다. 변경 가시성에 문제가있을 수도 있습니다. 따라서 스레드가 공유 변수의 값을 변경하면 해당 스레드의 로컬 캐시에만 변경 사항이 기록됩니다. 다른 스레드는 변경에 액세스 할 수 없습니다 (이전 값만 볼 수 있음).

이러한 문제에 대한 해결책은 **중요한 섹션** 의 개념에 **있습니다** . 크리티컬 섹션은 공유 리소스에 액세스하고 동시에 둘 이상의 스레드에서 실행할 수없는 코드 블록입니다.

프로그래머가 중요한 섹션을 구현할 수 있도록 Java (및 거의 모든 프로그래밍 언어)는 동기화 메커니즘을 제공합니다. 스레드가 중요한 섹션에 액세스하려고 할 때 이러한 동기화 메커니즘 중 하나를 사용하여 중요한 섹션을 실행하는 다른 스레드가 있는지 확인합니다. 그렇지 않은 경우 스레드가 위험 구역으로 들어갑니다. 그렇다면 스레드는 현재 중요한 섹션을 실행중인 스레드가 종료 할 때까지 동기화 메커니즘에 의해 일시 중단됩니다. 하나 이상의 스레드가 스레드가 중요한 섹션의 실행을 완료하기를 기다리는 경우 JVM은 스레드 중 하나를 선택하고 나머지는 차례를 기다립니다. 이 장에서는 Java 언어에서 제공하는 두 가지 기본 동기화 메커니즘을 사용하는 방법을 알려주는 여러 가지 레시피를 제공합니다.

- `synchronized`

    키워드

- `Lock`

    인터페이스와 구현